<html>
<script type="text/javascript">

    function getUserData() {
        var id      = parseInt(document.getElementById("user_id").value);
        var city    = document.getElementById("user_city").value;
        var zipcode = document.getElementById("user_zipcode").value;
        var phone   = document.getElementById("user_phone").value;
        var name    = document.getElementById("user_name").value;
        var surname = document.getElementById("user_surname").value;
        var address = document.getElementById("user_address").value;

        return { 
            id      : id, 
            city    : city, 
            zipcode : zipcode, 
            phone   : phone, 
            name    : name, 
            surname : surname, 
            address : address 
        };

    }

    function update(){
        var data = getUserData();
        var url = "http://localhost:3000/users/"+data.id;
        var xhr = new XMLHttpRequest();

        
        xhr.open("PUT", url, true);
        xhr.setRequestHeader("Content-Type", "application/json; charset=utf-8");
        xhr.onreadystatechange = function () {
            if (xhr.status == 200 && xhr.readyState == 4) {
                document.getElementById("results").innerText = xhr.responseText;
            }
        }

        xhr.send(JSON.stringify(data));
    }

    function add(){
        var data = getUserData();
        var url = "http://localhost:3000/users";
        var xhr = new XMLHttpRequest();

        
        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-Type", "application/json; charset=utf-8");
        xhr.onreadystatechange = function () {
            if (xhr.status == 200 && xhr.readyState == 4) {
                document.getElementById("results").innerText = xhr.responseText;
            }
        }

        xhr.send(JSON.stringify(data));
    }

    function remove() {

        var data = getUserData();
        var url = "http://localhost:3000/users/" + data.id;
        var xhr = new XMLHttpRequest();

        xhr.open("DELETE", url, true);
        xhr.onreadystatechange = function () {
            if (xhr.status == 200 && xhr.readyState == 4) {
                document.getElementById("results").innerText = xhr.responseText;
            }
        }

        xhr.send();
    }

    function doGet() {
        var url = "http://localhost:3000/users";
        var xhr = new XMLHttpRequest();

        xhr.open("GET", url, true);
        xhr.onreadystatechange = function () {
            if (xhr.status == 200 && xhr.readyState == 4) {
                document.getElementById("results").innerText = xhr.responseText;
            }
        }

        xhr.send();
    }

    function doGetOne() {
        var data = getUserData();
        var url = "http://localhost:3000/users/"+data.id;
        var xhr = new XMLHttpRequest();

        xhr.open("GET", url, true);
        xhr.onreadystatechange = function () {
            if (xhr.status == 200 && xhr.readyState == 4) {
                document.getElementById("results").innerText = xhr.responseText;
            }
        }

        xhr.send();
    }

</script>

<body>
    <div>
        <label>id</label>
        <input type="text" name="user_id" id="user_id" value="0" />
        <br />


        <label>city</label>
        <input type="text" name="user_city" id="user_city" value="" />
        <br />

        <label>zipcode</label>
        <input type="text" name="user_zipcode" id="user_zipcode" value="" />
        <br />

        <label>phone</label>
        <input type="text" name="user_phone" id="user_phone" value="" />
        <br />

        <label>name</label>
        <input type="text" name="user_name" id="user_name" value="" />
        <br />

        <label>surname</label>
        <input type="text" name="user_surname" id="user_surname" value="" />
        <br />

        <label>address</label>
        <input type="text" name="user_address" id="user_address" value="" />
        <br />

        <button onclick="update()">UPDATE</button>
        <button onclick="add()">ADD</button>
        <button onclick="remove()">REMOVE</button>
        <button onclick="doGetOne()">GET</button>
        <button onclick="doGet()">GET ALL</button>
    </div>
    <div id="results"></div>


</body>

</html>