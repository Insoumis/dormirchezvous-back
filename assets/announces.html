<html>
<script type="text/javascript">
    function getUserData() {
        var id = parseInt(document.getElementById("announce_id").value);
        var user_id = parseInt(document.getElementById("announce_user_id").value);
        var event_id = parseInt(document.getElementById("announce_event_id").value);
        var num_places = parseInt(document.getElementById("announce_num_places").value);
        var description = document.getElementById("announce_description").value;

        return {
            id: id,
            user_id: user_id,
            event_id: event_id,
            num_places: num_places,
            description: description
        };
    }

    function update() {
        var data = getUserData();
        var url = "http://localhost:3000/announces/" + data.id;
        var xhr = new XMLHttpRequest();


        xhr.open("PUT", url, true);
        xhr.setRequestHeader("Content-Type", "application/json; charset=utf-8");
        xhr.onreadystatechange = function () {
            if (xhr.status == 200 && xhr.readyState == 4) {
                document.getElementById("results").innerText = xhr.responseText;
            }
        }

        xhr.send(JSON.stringify(data));
    }

    function add() {
        var data = getUserData();
        var url = "http://localhost:3000/announces";
        var xhr = new XMLHttpRequest();


        xhr.open("POST", url, true);
        xhr.setRequestHeader("Content-Type", "application/json; charset=utf-8");
        xhr.onreadystatechange = function () {
            if (xhr.status == 200 && xhr.readyState == 4) {
                document.getElementById("results").innerText = xhr.responseText;
            }
        }

        xhr.send(JSON.stringify(data));
    }

    function remove() {

        var data = getUserData();
        var url = "http://localhost:3000/announces/" + data.id;
        var xhr = new XMLHttpRequest();

        xhr.open("DELETE", url, true);
        xhr.onreadystatechange = function () {
            if (xhr.status == 200 && xhr.readyState == 4) {
                document.getElementById("results").innerText = xhr.responseText;
            }
        }

        xhr.send();
    }

    function doGet() {
        var url = "http://localhost:3000/announces";
        var xhr = new XMLHttpRequest();

        xhr.open("GET", url, true);
        xhr.onreadystatechange = function () {
            if (xhr.status == 200 && xhr.readyState == 4) {
                document.getElementById("results").innerText = xhr.responseText;
            }
        }

        xhr.send();
    }

    function doGetOne() {
        var data = getUserData();
        var url = "http://localhost:3000/announces/" + data.id;
        var xhr = new XMLHttpRequest();

        xhr.open("GET", url, true);
        xhr.onreadystatechange = function () {
            if (xhr.status == 200 && xhr.readyState == 4) {
                document.getElementById("results").innerText = xhr.responseText;
            }
        }

        xhr.send();
    }

</script>

<body>
    <div>
        <label>id</label>
        <input type="text" name="announce_id" id="announce_id" value="0" />
        <br />


        <label>user_id</label>
        <input type="text" name="announce_user_id" id="announce_user_id" value="0" />
        <br />

        <label>event_id</label>
        <input type="text" name="announce_event_id" id="announce_event_id" value="0" />
        <br />

        <label>num_places</label>
        <input type="text" name="announce_num_places" id="announce_num_places" value="0" />
        <br />


        <label>description</label>
        <textarea type="text" name="announce_description" id="announce_description"></textarea>
        <br />

        <button onclick="update()">UPDATE</button>
        <button onclick="add()">ADD</button>
        <button onclick="remove()">REMOVE</button>
        <button onclick="doGetOne()">GET</button>
        <button onclick="doGet()">GET ALL</button>
    </div>
    <div id="results"></div>


</body>

</html>